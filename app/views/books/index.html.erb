<div class="container mt-5">

  <h1 class="mb-4">Books</h1>

  <%# Table with Bootstrap %>
  <%# thread or <th> = table header (column name) %>
  <%# tbody = rows body part %>
  <%# tr = table row 1 %>
  <%# th = table head cell %>
  <%# td = table data cell %>
  <%# table > thread > tr > th (title, body, action), tbody > tr > td (bottons) %>

  <%# bootstrap class %>
  <%# border and change color each rows %>
  <table class="table table-striped table-bordered"> 
    <thead class="table-dark">
      <tr>
        <th>Title</th>
        <th>Body</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      <% @books.each do |book| %>
        <tr>
          <td><%= book.title %></td>
          <td><%= book.body %></td>
          <td>
            <%= link_to "Show", book_path(book), class: "btn btn-sm btn-primary" %>
            <%= link_to "Edit", edit_book_path(book), class: "btn btn-sm btn-warning" %>
            <%= link_to "Delete", book_path(book), method: :delete, data: { confirm: "投稿を削除" }, class: "btn btn-sm btn-danger" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <h2 class="mt-5">New Book</h2>

  <%# Error messages with Bootstrap %>
  <% if @book.errors.any? %>
    <div class="alert alert-danger">
      <ul>
        <% @book.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%= form_with(model: @book, local: true, class: "mt-3") do |f| %>
    <div class="mb-3">
      <%= f.label :title, class: "form-label" %>
      <%= f.text_field :title, class: "form-control" %>
    </div>

    <div class="mb-3">
      <%= f.label :body, class: "form-label" %>
      <%= f.text_area :body, class: "form-control" %>
    </div>

    <div>
      <%= f.submit "Create Book", class: "btn btn-success" %>
    </div>
  <% end %>

</div>
